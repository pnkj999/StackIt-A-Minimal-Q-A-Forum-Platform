{"ast":null,"code":"// frontend/src/App.js\nimport React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import{QueryClient,QueryClientProvider}from'@tanstack/react-query';import{ReactQueryDevtools}from'@tanstack/react-query-devtools';import{Toaster}from'react-hot-toast';import io from'socket.io-client';// Components\nimport Navbar from'./components/Layout/Navbar';import Footer from'./components/Layout/Footer';import Home from'./pages/Home';import Login from'./pages/Login';import Register from'./pages/Register';import AskQuestion from'./pages/AskQuestion';import QuestionDetail from'./pages/QuestionDetail';import Profile from'./pages/Profile';import{AuthProvider}from'./contexts/AuthContext';import{NotificationProvider}from'./contexts/NotificationContext';import ProtectedRoute from'./components/Auth/ProtectedRoute';import ErrorBoundary from'./components/ErrorBoundary';// Create a client\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryClient=new QueryClient({defaultOptions:{queries:{retry:(failureCount,error)=>{if(error.status===404)return false;return failureCount<2;},refetchOnWindowFocus:false,staleTime:5*60*1000,// 5 minutes\ncacheTime:10*60*1000// 10 minutes\n},mutations:{retry:1}}});function App(){const[socket,setSocket]=useState(null);useEffect(()=>{// Initialize socket connection\nconst newSocket=io(process.env.REACT_APP_API_URL||'http://localhost:5000',{transports:['websocket','polling'],timeout:20000});newSocket.on('connect',()=>{console.log('Connected to server');});newSocket.on('disconnect',()=>{console.log('Disconnected from server');});newSocket.on('connect_error',error=>{console.error('Connection error:',error);});setSocket(newSocket);return()=>{newSocket.close();};},[]);return/*#__PURE__*/_jsx(ErrorBoundary,{children:/*#__PURE__*/_jsxs(QueryClientProvider,{client:queryClient,children:[/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(NotificationProvider,{socket:socket,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50 flex flex-col\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-1 container mx-auto px-4 py-8 max-w-7xl\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/ask\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AskQuestion,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/questions/:id\",element:/*#__PURE__*/_jsx(QuestionDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})})]})}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:'#363636',color:'#fff'},success:{duration:3000,theme:{primary:'#4aed88'}},error:{duration:5000,theme:{primary:'#ff6b6b'}}}})]})})})}),/*#__PURE__*/_jsx(ReactQueryDevtools,{initialIsOpen:false})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","QueryClient","QueryClientProvider","ReactQueryDevtools","Toaster","io","Navbar","Footer","Home","Login","Register","AskQuestion","QuestionDetail","Profile","AuthProvider","NotificationProvider","ProtectedRoute","ErrorBoundary","jsx","_jsx","jsxs","_jsxs","queryClient","defaultOptions","queries","retry","failureCount","error","status","refetchOnWindowFocus","staleTime","cacheTime","mutations","App","socket","setSocket","newSocket","process","env","REACT_APP_API_URL","transports","timeout","on","console","log","close","children","client","className","path","element","position","toastOptions","duration","style","background","color","success","theme","primary","initialIsOpen"],"sources":["/Users/sam/Downloads/stackit/frontend/src/App.js"],"sourcesContent":["// frontend/src/App.js\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\nimport { Toaster } from 'react-hot-toast';\nimport io from 'socket.io-client';\n\n// Components\nimport Navbar from './components/Layout/Navbar';\nimport Footer from './components/Layout/Footer';\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport AskQuestion from './pages/AskQuestion';\nimport QuestionDetail from './pages/QuestionDetail';\nimport Profile from './pages/Profile';\nimport { AuthProvider } from './contexts/AuthContext';\nimport { NotificationProvider } from './contexts/NotificationContext';\nimport ProtectedRoute from './components/Auth/ProtectedRoute';\nimport ErrorBoundary from './components/ErrorBoundary';\n\n// Create a client\nconst queryClient = new QueryClient({\n    defaultOptions: {\n        queries: {\n            retry: (failureCount, error) => {\n                if (error.status === 404) return false;\n                return failureCount < 2;\n            },\n            refetchOnWindowFocus: false,\n            staleTime: 5 * 60 * 1000, // 5 minutes\n            cacheTime: 10 * 60 * 1000, // 10 minutes\n        },\n        mutations: {\n            retry: 1,\n        },\n    },\n});\n\nfunction App() {\n    const [socket, setSocket] = useState(null);\n\n    useEffect(() => {\n        // Initialize socket connection\n        const newSocket = io(process.env.REACT_APP_API_URL || 'http://localhost:5000', {\n            transports: ['websocket', 'polling'],\n            timeout: 20000,\n        });\n\n        newSocket.on('connect', () => {\n            console.log('Connected to server');\n        });\n\n        newSocket.on('disconnect', () => {\n            console.log('Disconnected from server');\n        });\n\n        newSocket.on('connect_error', (error) => {\n            console.error('Connection error:', error);\n        });\n\n        setSocket(newSocket);\n\n        return () => {\n            newSocket.close();\n        };\n    }, []);\n\n    return (\n        <ErrorBoundary>\n            <QueryClientProvider client={queryClient}>\n                <AuthProvider>\n                    <NotificationProvider socket={socket}>\n                        <Router>\n                            <div className=\"min-h-screen bg-gray-50 flex flex-col\">\n                                <Navbar />\n                                <main className=\"flex-1 container mx-auto px-4 py-8 max-w-7xl\">\n                                    <Routes>\n                                        <Route path=\"/\" element={<Home />} />\n                                        <Route path=\"/login\" element={<Login />} />\n                                        <Route path=\"/register\" element={<Register />} />\n                                        <Route \n                                            path=\"/ask\" \n                                            element={\n                                                <ProtectedRoute>\n                                                    <AskQuestion />\n                                                </ProtectedRoute>\n                                            } \n                                        />\n                                        <Route path=\"/questions/:id\" element={<QuestionDetail />} />\n                                        <Route \n                                            path=\"/profile\" \n                                            element={\n                                                <ProtectedRoute>\n                                                    <Profile />\n                                                </ProtectedRoute>\n                                            } \n                                        />\n                                    </Routes>\n                                </main>\n                                <Footer />\n                                <Toaster \n                                    position=\"top-right\"\n                                    toastOptions={{\n                                        duration: 4000,\n                                        style: {\n                                            background: '#363636',\n                                            color: '#fff',\n                                        },\n                                        success: {\n                                            duration: 3000,\n                                            theme: {\n                                                primary: '#4aed88',\n                                            },\n                                        },\n                                        error: {\n                                            duration: 5000,\n                                            theme: {\n                                                primary: '#ff6b6b',\n                                            },\n                                        },\n                                    }}\n                                />\n                            </div>\n                        </Router>\n                    </NotificationProvider>\n                </AuthProvider>\n                <ReactQueryDevtools initialIsOpen={false} />\n            </QueryClientProvider>\n        </ErrorBoundary>\n    );\n}\n\nexport default App;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,KAAQ,kBAAkB,CACzE,OAASC,WAAW,CAAEC,mBAAmB,KAAQ,uBAAuB,CACxE,OAASC,kBAAkB,KAAQ,gCAAgC,CACnE,OAASC,OAAO,KAAQ,iBAAiB,CACzC,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CAEjC;AACA,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,MAAM,KAAM,4BAA4B,CAC/C,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,OAASC,YAAY,KAAQ,wBAAwB,CACrD,OAASC,oBAAoB,KAAQ,gCAAgC,CACrE,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAC7D,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CAEtD;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,WAAW,CAAG,GAAI,CAAArB,WAAW,CAAC,CAChCsB,cAAc,CAAE,CACZC,OAAO,CAAE,CACLC,KAAK,CAAEA,CAACC,YAAY,CAAEC,KAAK,GAAK,CAC5B,GAAIA,KAAK,CAACC,MAAM,GAAK,GAAG,CAAE,MAAO,MAAK,CACtC,MAAO,CAAAF,YAAY,CAAG,CAAC,CAC3B,CAAC,CACDG,oBAAoB,CAAE,KAAK,CAC3BC,SAAS,CAAE,CAAC,CAAG,EAAE,CAAG,IAAI,CAAE;AAC1BC,SAAS,CAAE,EAAE,CAAG,EAAE,CAAG,IAAM;AAC/B,CAAC,CACDC,SAAS,CAAE,CACPP,KAAK,CAAE,CACX,CACJ,CACJ,CAAC,CAAC,CAEF,QAAS,CAAAQ,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACZ;AACA,KAAM,CAAAwC,SAAS,CAAG/B,EAAE,CAACgC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAAE,CAC3EC,UAAU,CAAE,CAAC,WAAW,CAAE,SAAS,CAAC,CACpCC,OAAO,CAAE,KACb,CAAC,CAAC,CAEFL,SAAS,CAACM,EAAE,CAAC,SAAS,CAAE,IAAM,CAC1BC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACtC,CAAC,CAAC,CAEFR,SAAS,CAACM,EAAE,CAAC,YAAY,CAAE,IAAM,CAC7BC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CAC3C,CAAC,CAAC,CAEFR,SAAS,CAACM,EAAE,CAAC,eAAe,CAAGf,KAAK,EAAK,CACrCgB,OAAO,CAAChB,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CAC7C,CAAC,CAAC,CAEFQ,SAAS,CAACC,SAAS,CAAC,CAEpB,MAAO,IAAM,CACTA,SAAS,CAACS,KAAK,CAAC,CAAC,CACrB,CAAC,CACL,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI1B,IAAA,CAACF,aAAa,EAAA6B,QAAA,cACVzB,KAAA,CAACnB,mBAAmB,EAAC6C,MAAM,CAAEzB,WAAY,CAAAwB,QAAA,eACrC3B,IAAA,CAACL,YAAY,EAAAgC,QAAA,cACT3B,IAAA,CAACJ,oBAAoB,EAACmB,MAAM,CAAEA,MAAO,CAAAY,QAAA,cACjC3B,IAAA,CAACrB,MAAM,EAAAgD,QAAA,cACHzB,KAAA,QAAK2B,SAAS,CAAC,uCAAuC,CAAAF,QAAA,eAClD3B,IAAA,CAACb,MAAM,GAAE,CAAC,cACVa,IAAA,SAAM6B,SAAS,CAAC,8CAA8C,CAAAF,QAAA,cAC1DzB,KAAA,CAACtB,MAAM,EAAA+C,QAAA,eACH3B,IAAA,CAACnB,KAAK,EAACiD,IAAI,CAAC,GAAG,CAACC,OAAO,cAAE/B,IAAA,CAACX,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCW,IAAA,CAACnB,KAAK,EAACiD,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAE/B,IAAA,CAACV,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CU,IAAA,CAACnB,KAAK,EAACiD,IAAI,CAAC,WAAW,CAACC,OAAO,cAAE/B,IAAA,CAACT,QAAQ,GAAE,CAAE,CAAE,CAAC,cACjDS,IAAA,CAACnB,KAAK,EACFiD,IAAI,CAAC,MAAM,CACXC,OAAO,cACH/B,IAAA,CAACH,cAAc,EAAA8B,QAAA,cACX3B,IAAA,CAACR,WAAW,GAAE,CAAC,CACH,CACnB,CACJ,CAAC,cACFQ,IAAA,CAACnB,KAAK,EAACiD,IAAI,CAAC,gBAAgB,CAACC,OAAO,cAAE/B,IAAA,CAACP,cAAc,GAAE,CAAE,CAAE,CAAC,cAC5DO,IAAA,CAACnB,KAAK,EACFiD,IAAI,CAAC,UAAU,CACfC,OAAO,cACH/B,IAAA,CAACH,cAAc,EAAA8B,QAAA,cACX3B,IAAA,CAACN,OAAO,GAAE,CAAC,CACC,CACnB,CACJ,CAAC,EACE,CAAC,CACP,CAAC,cACPM,IAAA,CAACZ,MAAM,GAAE,CAAC,cACVY,IAAA,CAACf,OAAO,EACJ+C,QAAQ,CAAC,WAAW,CACpBC,YAAY,CAAE,CACVC,QAAQ,CAAE,IAAI,CACdC,KAAK,CAAE,CACHC,UAAU,CAAE,SAAS,CACrBC,KAAK,CAAE,MACX,CAAC,CACDC,OAAO,CAAE,CACLJ,QAAQ,CAAE,IAAI,CACdK,KAAK,CAAE,CACHC,OAAO,CAAE,SACb,CACJ,CAAC,CACDhC,KAAK,CAAE,CACH0B,QAAQ,CAAE,IAAI,CACdK,KAAK,CAAE,CACHC,OAAO,CAAE,SACb,CACJ,CACJ,CAAE,CACL,CAAC,EACD,CAAC,CACF,CAAC,CACS,CAAC,CACb,CAAC,cACfxC,IAAA,CAAChB,kBAAkB,EAACyD,aAAa,CAAE,KAAM,CAAE,CAAC,EAC3B,CAAC,CACX,CAAC,CAExB,CAEA,cAAe,CAAA3B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}