{"ast":null,"code":"import React,{useState}from'react';import{ChevronUpIcon,ChevronDownIcon,CheckCircleIcon,ClockIcon,PencilIcon,TrashIcon}from'@heroicons/react/24/outline';import{CheckCircleIcon as CheckCircleIconSolid}from'@heroicons/react/24/solid';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AnswerCard=_ref=>{let{answer,questionOwnerId,onVote,onAccept,currentUser}=_ref;const[isEditing,setIsEditing]=useState(false);const formatTimeAgo=dateString=>{const date=new Date(dateString);const now=new Date();const diffInSeconds=Math.floor((now-date)/1000);if(diffInSeconds<60)return'just now';if(diffInSeconds<3600)return`${Math.floor(diffInSeconds/60)}m ago`;if(diffInSeconds<86400)return`${Math.floor(diffInSeconds/3600)}h ago`;if(diffInSeconds<2592000)return`${Math.floor(diffInSeconds/86400)}d ago`;return date.toLocaleDateString();};const handleVote=voteType=>{if(onVote){onVote(answer.id,voteType);}};const handleAccept=()=>{if(onAccept){onAccept(answer.id);}};const canEdit=currentUser&&currentUser.id===answer.author_id;const canAccept=currentUser&&currentUser.id===questionOwnerId&&!answer.is_accepted;const canVote=currentUser&&currentUser.id!==answer.author_id;return/*#__PURE__*/_jsx(\"div\",{className:`bg-white rounded-lg shadow-md p-6 ${answer.is_accepted?'ring-2 ring-green-500':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mr-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleVote(1),disabled:!canVote,className:`vote-button vote-button-up ${answer.user_vote===1?'active':''} ${!canVote?'opacity-50 cursor-not-allowed':''}`,children:/*#__PURE__*/_jsx(ChevronUpIcon,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold text-gray-700 my-2\",children:answer.votes||0}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleVote(-1),disabled:!canVote,className:`vote-button vote-button-down ${answer.user_vote===-1?'active':''} ${!canVote?'opacity-50 cursor-not-allowed':''}`,children:/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-6 w-6\"})}),canAccept&&/*#__PURE__*/_jsx(\"button\",{onClick:handleAccept,className:\"mt-4 p-2 text-gray-400 hover:text-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 rounded-full\",title:\"Accept this answer\",children:/*#__PURE__*/_jsx(CheckCircleIcon,{className:\"h-8 w-8\"})}),answer.is_accepted&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-2 text-green-600\",title:\"Accepted answer\",children:/*#__PURE__*/_jsx(CheckCircleIconSolid,{className:\"h-8 w-8\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"question-content\",dangerouslySetInnerHTML:{__html:answer.content}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-6 pt-4 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:canEdit&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsEditing(true),className:\"text-sm text-gray-500 hover:text-blue-600 flex items-center\",children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4 mr-1\"}),\"Edit\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"text-sm text-gray-500 hover:text-red-600 flex items-center\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-1\"}),\"Delete\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"answered \",formatTimeAgo(answer.created_at)]}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:\"by\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1 font-medium text-gray-700\",children:answer.author})]})]})]})]})});};export default AnswerCard;","map":{"version":3,"names":["React","useState","ChevronUpIcon","ChevronDownIcon","CheckCircleIcon","ClockIcon","PencilIcon","TrashIcon","CheckCircleIconSolid","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AnswerCard","_ref","answer","questionOwnerId","onVote","onAccept","currentUser","isEditing","setIsEditing","formatTimeAgo","dateString","date","Date","now","diffInSeconds","Math","floor","toLocaleDateString","handleVote","voteType","id","handleAccept","canEdit","author_id","canAccept","is_accepted","canVote","className","children","onClick","disabled","user_vote","votes","title","dangerouslySetInnerHTML","__html","content","created_at","author"],"sources":["/Users/sam/Downloads/stackit/frontend/src/components/Answers/AnswerCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { \n    ChevronUpIcon, \n    ChevronDownIcon, \n    CheckCircleIcon,\n    ClockIcon,\n    PencilIcon,\n    TrashIcon\n} from '@heroicons/react/24/outline';\nimport { CheckCircleIcon as CheckCircleIconSolid } from '@heroicons/react/24/solid';\n\nconst AnswerCard = ({ answer, questionOwnerId, onVote, onAccept, currentUser }) => {\n    const [isEditing, setIsEditing] = useState(false);\n\n    const formatTimeAgo = (dateString) => {\n        const date = new Date(dateString);\n        const now = new Date();\n        const diffInSeconds = Math.floor((now - date) / 1000);\n\n        if (diffInSeconds < 60) return 'just now';\n        if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;\n        if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;\n        if (diffInSeconds < 2592000) return `${Math.floor(diffInSeconds / 86400)}d ago`;\n        return date.toLocaleDateString();\n    };\n\n    const handleVote = (voteType) => {\n        if (onVote) {\n            onVote(answer.id, voteType);\n        }\n    };\n\n    const handleAccept = () => {\n        if (onAccept) {\n            onAccept(answer.id);\n        }\n    };\n\n    const canEdit = currentUser && currentUser.id === answer.author_id;\n    const canAccept = currentUser && currentUser.id === questionOwnerId && !answer.is_accepted;\n    const canVote = currentUser && currentUser.id !== answer.author_id;\n\n    return (\n        <div className={`bg-white rounded-lg shadow-md p-6 ${answer.is_accepted ? 'ring-2 ring-green-500' : ''}`}>\n            <div className=\"flex\">\n                {/* Vote Section */}\n                <div className=\"flex flex-col items-center mr-6\">\n                    <button\n                        onClick={() => handleVote(1)}\n                        disabled={!canVote}\n                        className={`vote-button vote-button-up ${answer.user_vote === 1 ? 'active' : ''} ${!canVote ? 'opacity-50 cursor-not-allowed' : ''}`}\n                    >\n                        <ChevronUpIcon className=\"h-6 w-6\" />\n                    </button>\n                    \n                    <span className=\"text-xl font-bold text-gray-700 my-2\">\n                        {answer.votes || 0}\n                    </span>\n                    \n                    <button\n                        onClick={() => handleVote(-1)}\n                        disabled={!canVote}\n                        className={`vote-button vote-button-down ${answer.user_vote === -1 ? 'active' : ''} ${!canVote ? 'opacity-50 cursor-not-allowed' : ''}`}\n                    >\n                        <ChevronDownIcon className=\"h-6 w-6\" />\n                    </button>\n\n                    {canAccept && (\n                        <button\n                            onClick={handleAccept}\n                            className=\"mt-4 p-2 text-gray-400 hover:text-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 rounded-full\"\n                            title=\"Accept this answer\"\n                        >\n                            <CheckCircleIcon className=\"h-8 w-8\" />\n                        </button>\n                    )}\n\n                    {answer.is_accepted && (\n                        <div className=\"mt-4 p-2 text-green-600\" title=\"Accepted answer\">\n                            <CheckCircleIconSolid className=\"h-8 w-8\" />\n                        </div>\n                    )}\n                </div>\n\n                {/* Answer Content */}\n                <div className=\"flex-1\">\n                    <div className=\"question-content\" dangerouslySetInnerHTML={{ __html: answer.content }} />\n                    \n                    {/* Answer Meta */}\n                    <div className=\"flex items-center justify-between mt-6 pt-4 border-t border-gray-200\">\n                        <div className=\"flex items-center space-x-4\">\n                            {canEdit && (\n                                <>\n                                    <button\n                                        onClick={() => setIsEditing(true)}\n                                        className=\"text-sm text-gray-500 hover:text-blue-600 flex items-center\"\n                                    >\n                                        <PencilIcon className=\"h-4 w-4 mr-1\" />\n                                        Edit\n                                    </button>\n                                    <button className=\"text-sm text-gray-500 hover:text-red-600 flex items-center\">\n                                        <TrashIcon className=\"h-4 w-4 mr-1\" />\n                                        Delete\n                                    </button>\n                                </>\n                            )}\n                        </div>\n                        \n                        <div className=\"flex items-center text-sm text-gray-500\">\n                            <ClockIcon className=\"h-4 w-4 mr-1\" />\n                            <span>answered {formatTimeAgo(answer.created_at)}</span>\n                            <span className=\"ml-1\">by</span>\n                            <span className=\"ml-1 font-medium text-gray-700\">\n                                {answer.author}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AnswerCard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OACIC,aAAa,CACbC,eAAe,CACfC,eAAe,CACfC,SAAS,CACTC,UAAU,CACVC,SAAS,KACN,6BAA6B,CACpC,OAASH,eAAe,GAAI,CAAAI,oBAAoB,KAAQ,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEpF,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAgE,IAA/D,CAAEC,MAAM,CAAEC,eAAe,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,WAAY,CAAC,CAAAL,IAAA,CAC1E,KAAM,CAACM,SAAS,CAAEC,YAAY,CAAC,CAAGtB,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAuB,aAAa,CAAIC,UAAU,EAAK,CAClC,KAAM,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAACF,UAAU,CAAC,CACjC,KAAM,CAAAG,GAAG,CAAG,GAAI,CAAAD,IAAI,CAAC,CAAC,CACtB,KAAM,CAAAE,aAAa,CAAGC,IAAI,CAACC,KAAK,CAAC,CAACH,GAAG,CAAGF,IAAI,EAAI,IAAI,CAAC,CAErD,GAAIG,aAAa,CAAG,EAAE,CAAE,MAAO,UAAU,CACzC,GAAIA,aAAa,CAAG,IAAI,CAAE,MAAO,GAAGC,IAAI,CAACC,KAAK,CAACF,aAAa,CAAG,EAAE,CAAC,OAAO,CACzE,GAAIA,aAAa,CAAG,KAAK,CAAE,MAAO,GAAGC,IAAI,CAACC,KAAK,CAACF,aAAa,CAAG,IAAI,CAAC,OAAO,CAC5E,GAAIA,aAAa,CAAG,OAAO,CAAE,MAAO,GAAGC,IAAI,CAACC,KAAK,CAACF,aAAa,CAAG,KAAK,CAAC,OAAO,CAC/E,MAAO,CAAAH,IAAI,CAACM,kBAAkB,CAAC,CAAC,CACpC,CAAC,CAED,KAAM,CAAAC,UAAU,CAAIC,QAAQ,EAAK,CAC7B,GAAIf,MAAM,CAAE,CACRA,MAAM,CAACF,MAAM,CAACkB,EAAE,CAAED,QAAQ,CAAC,CAC/B,CACJ,CAAC,CAED,KAAM,CAAAE,YAAY,CAAGA,CAAA,GAAM,CACvB,GAAIhB,QAAQ,CAAE,CACVA,QAAQ,CAACH,MAAM,CAACkB,EAAE,CAAC,CACvB,CACJ,CAAC,CAED,KAAM,CAAAE,OAAO,CAAGhB,WAAW,EAAIA,WAAW,CAACc,EAAE,GAAKlB,MAAM,CAACqB,SAAS,CAClE,KAAM,CAAAC,SAAS,CAAGlB,WAAW,EAAIA,WAAW,CAACc,EAAE,GAAKjB,eAAe,EAAI,CAACD,MAAM,CAACuB,WAAW,CAC1F,KAAM,CAAAC,OAAO,CAAGpB,WAAW,EAAIA,WAAW,CAACc,EAAE,GAAKlB,MAAM,CAACqB,SAAS,CAElE,mBACI5B,IAAA,QAAKgC,SAAS,CAAE,qCAAqCzB,MAAM,CAACuB,WAAW,CAAG,uBAAuB,CAAG,EAAE,EAAG,CAAAG,QAAA,cACrG/B,KAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAC,QAAA,eAEjB/B,KAAA,QAAK8B,SAAS,CAAC,iCAAiC,CAAAC,QAAA,eAC5CjC,IAAA,WACIkC,OAAO,CAAEA,CAAA,GAAMX,UAAU,CAAC,CAAC,CAAE,CAC7BY,QAAQ,CAAE,CAACJ,OAAQ,CACnBC,SAAS,CAAE,8BAA8BzB,MAAM,CAAC6B,SAAS,GAAK,CAAC,CAAG,QAAQ,CAAG,EAAE,IAAI,CAACL,OAAO,CAAG,+BAA+B,CAAG,EAAE,EAAG,CAAAE,QAAA,cAErIjC,IAAA,CAACR,aAAa,EAACwC,SAAS,CAAC,SAAS,CAAE,CAAC,CACjC,CAAC,cAEThC,IAAA,SAAMgC,SAAS,CAAC,sCAAsC,CAAAC,QAAA,CACjD1B,MAAM,CAAC8B,KAAK,EAAI,CAAC,CAChB,CAAC,cAEPrC,IAAA,WACIkC,OAAO,CAAEA,CAAA,GAAMX,UAAU,CAAC,CAAC,CAAC,CAAE,CAC9BY,QAAQ,CAAE,CAACJ,OAAQ,CACnBC,SAAS,CAAE,gCAAgCzB,MAAM,CAAC6B,SAAS,GAAK,CAAC,CAAC,CAAG,QAAQ,CAAG,EAAE,IAAI,CAACL,OAAO,CAAG,+BAA+B,CAAG,EAAE,EAAG,CAAAE,QAAA,cAExIjC,IAAA,CAACP,eAAe,EAACuC,SAAS,CAAC,SAAS,CAAE,CAAC,CACnC,CAAC,CAERH,SAAS,eACN7B,IAAA,WACIkC,OAAO,CAAER,YAAa,CACtBM,SAAS,CAAC,+GAA+G,CACzHM,KAAK,CAAC,oBAAoB,CAAAL,QAAA,cAE1BjC,IAAA,CAACN,eAAe,EAACsC,SAAS,CAAC,SAAS,CAAE,CAAC,CACnC,CACX,CAEAzB,MAAM,CAACuB,WAAW,eACf9B,IAAA,QAAKgC,SAAS,CAAC,yBAAyB,CAACM,KAAK,CAAC,iBAAiB,CAAAL,QAAA,cAC5DjC,IAAA,CAACF,oBAAoB,EAACkC,SAAS,CAAC,SAAS,CAAE,CAAC,CAC3C,CACR,EACA,CAAC,cAGN9B,KAAA,QAAK8B,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACnBjC,IAAA,QAAKgC,SAAS,CAAC,kBAAkB,CAACO,uBAAuB,CAAE,CAAEC,MAAM,CAAEjC,MAAM,CAACkC,OAAQ,CAAE,CAAE,CAAC,cAGzFvC,KAAA,QAAK8B,SAAS,CAAC,sEAAsE,CAAAC,QAAA,eACjFjC,IAAA,QAAKgC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACvCN,OAAO,eACJzB,KAAA,CAAAE,SAAA,EAAA6B,QAAA,eACI/B,KAAA,WACIgC,OAAO,CAAEA,CAAA,GAAMrB,YAAY,CAAC,IAAI,CAAE,CAClCmB,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAEvEjC,IAAA,CAACJ,UAAU,EAACoC,SAAS,CAAC,cAAc,CAAE,CAAC,OAE3C,EAAQ,CAAC,cACT9B,KAAA,WAAQ8B,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eAC1EjC,IAAA,CAACH,SAAS,EAACmC,SAAS,CAAC,cAAc,CAAE,CAAC,SAE1C,EAAQ,CAAC,EACX,CACL,CACA,CAAC,cAEN9B,KAAA,QAAK8B,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eACpDjC,IAAA,CAACL,SAAS,EAACqC,SAAS,CAAC,cAAc,CAAE,CAAC,cACtC9B,KAAA,SAAA+B,QAAA,EAAM,WAAS,CAACnB,aAAa,CAACP,MAAM,CAACmC,UAAU,CAAC,EAAO,CAAC,cACxD1C,IAAA,SAAMgC,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,cAChCjC,IAAA,SAAMgC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,CAC3C1B,MAAM,CAACoC,MAAM,CACZ,CAAC,EACN,CAAC,EACL,CAAC,EACL,CAAC,EACL,CAAC,CACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAtC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}