{"ast":null,"code":"import React,{useState}from'react';import{useParams,Link}from'react-router-dom';import{useQuery,useMutation,useQueryClient}from'@tanstack/react-query';import{EyeIcon,ClockIcon,ArrowLeftIcon,PencilIcon,TrashIcon}from'@heroicons/react/24/outline';import toast from'react-hot-toast';import AnswerList from'../components/Answers/AnswerList';import AnswerForm from'../components/Answers/AnswerForm';import LoadingSpinner from'../components/UI/LoadingSpinner';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuestionDetail=()=>{var _question$answers,_question$answers2;const{id}=useParams();const{user,getAuthHeader}=useAuth();const queryClient=useQueryClient();const{data:question,isLoading,error}=useQuery({queryKey:['question',id],queryFn:async()=>{const response=await fetch(`${process.env.REACT_APP_API_URL}/api/questions/${id}`,{headers:getAuthHeader()});if(!response.ok){throw new Error('Failed to fetch question');}return response.json();},staleTime:2*60*1000// 2 minutes\n});const voteMutation=useMutation({mutationFn:async _ref=>{let{answerId,voteType}=_ref;const response=await fetch(`${process.env.REACT_APP_API_URL}/api/answers/${answerId}/vote`,{method:'POST',headers:{'Content-Type':'application/json',...getAuthHeader()},body:JSON.stringify({voteType})});if(!response.ok){const error=await response.json();throw new Error(error.error||'Failed to vote');}return response.json();},onSuccess:()=>{queryClient.invalidateQueries(['question',id]);},onError:error=>{toast.error(error.message);}});const acceptMutation=useMutation({mutationFn:async answerId=>{const response=await fetch(`${process.env.REACT_APP_API_URL}/api/answers/${answerId}/accept`,{method:'POST',headers:getAuthHeader()});if(!response.ok){const error=await response.json();throw new Error(error.error||'Failed to accept answer');}return response.json();},onSuccess:()=>{toast.success('Answer accepted successfully!');queryClient.invalidateQueries(['question',id]);},onError:error=>{toast.error(error.message);}});const handleVote=(answerId,voteType)=>{if(!user){toast.error('Please login to vote');return;}voteMutation.mutate({answerId,voteType});};const handleAccept=answerId=>{acceptMutation.mutate(answerId);};const formatTimeAgo=dateString=>{const date=new Date(dateString);const now=new Date();const diffInSeconds=Math.floor((now-date)/1000);if(diffInSeconds<60)return'just now';if(diffInSeconds<3600)return`${Math.floor(diffInSeconds/60)}m ago`;if(diffInSeconds<86400)return`${Math.floor(diffInSeconds/3600)}h ago`;if(diffInSeconds<2592000)return`${Math.floor(diffInSeconds/86400)}d ago`;return date.toLocaleDateString();};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-12\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-600\",children:[\"Error loading question: \",error.message]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"mt-4 text-blue-600 hover:text-blue-800\",children:\"\\u2190 Back to Questions\"})]});}if(!question){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Question not found\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"mt-4 text-blue-600 hover:text-blue-800\",children:\"\\u2190 Back to Questions\"})]});}const canEdit=user&&(user.id===question.author_id||user.role==='admin');return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsxs(Link,{to:\"/\",className:\"inline-flex items-center text-blue-600 hover:text-blue-800\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-2\"}),\"Back to Questions\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 flex-1 mr-4\",children:question.title}),canEdit&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-500 hover:text-blue-600\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-500 hover:text-red-600\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-5 w-5\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-6 mb-6 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(EyeIcon,{className:\"h-4 w-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[question.view_count||0,\" views\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(ClockIcon,{className:\"h-4 w-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"asked \",formatTimeAgo(question.created_at)]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"question-content mb-6\",dangerouslySetInnerHTML:{__html:question.description}}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mb-6\",children:question.tags.map(tag=>/*#__PURE__*/_jsx(\"span\",{className:\"tag\",style:{backgroundColor:`${tag.color}20`,color:tag.color},children:tag.name},tag.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"asked by \"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-700\",children:question.author})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold text-gray-900 mb-6\",children:[((_question$answers=question.answers)===null||_question$answers===void 0?void 0:_question$answers.length)||0,\" Answer\",((_question$answers2=question.answers)===null||_question$answers2===void 0?void 0:_question$answers2.length)!==1?'s':'']}),/*#__PURE__*/_jsx(AnswerList,{answers:question.answers,questionOwnerId:question.author_id,onVote:handleVote,onAccept:handleAccept,currentUser:user})]}),user?/*#__PURE__*/_jsx(AnswerForm,{questionId:id,onSuccess:()=>{// Scroll to top of answers section\nwindow.scrollTo({top:0,behavior:'smooth'});}}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 rounded-lg p-6 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"Please \",/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"text-blue-600 hover:text-blue-800\",children:\"sign in\"}),\" to post an answer.\"]})})]});};export default QuestionDetail;","map":{"version":3,"names":["React","useState","useParams","Link","useQuery","useMutation","useQueryClient","EyeIcon","ClockIcon","ArrowLeftIcon","PencilIcon","TrashIcon","toast","AnswerList","AnswerForm","LoadingSpinner","useAuth","jsx","_jsx","jsxs","_jsxs","QuestionDetail","_question$answers","_question$answers2","id","user","getAuthHeader","queryClient","data","question","isLoading","error","queryKey","queryFn","response","fetch","process","env","REACT_APP_API_URL","headers","ok","Error","json","staleTime","voteMutation","mutationFn","_ref","answerId","voteType","method","body","JSON","stringify","onSuccess","invalidateQueries","onError","message","acceptMutation","success","handleVote","mutate","handleAccept","formatTimeAgo","dateString","date","Date","now","diffInSeconds","Math","floor","toLocaleDateString","className","children","to","canEdit","author_id","role","title","view_count","created_at","dangerouslySetInnerHTML","__html","description","tags","map","tag","style","backgroundColor","color","name","author","answers","length","questionOwnerId","onVote","onAccept","currentUser","questionId","window","scrollTo","top","behavior"],"sources":["/Users/sam/Downloads/stackit/frontend/src/pages/QuestionDetail.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { \n    EyeIcon, \n    ClockIcon, \n    ArrowLeftIcon,\n    PencilIcon,\n    TrashIcon\n} from '@heroicons/react/24/outline';\nimport toast from 'react-hot-toast';\nimport AnswerList from '../components/Answers/AnswerList';\nimport AnswerForm from '../components/Answers/AnswerForm';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst QuestionDetail = () => {\n    const { id } = useParams();\n    const { user, getAuthHeader } = useAuth();\n    const queryClient = useQueryClient();\n\n    const { data: question, isLoading, error } = useQuery({\n        queryKey: ['question', id],\n        queryFn: async () => {\n            const response = await fetch(\n                `${process.env.REACT_APP_API_URL}/api/questions/${id}`,\n                {\n                    headers: getAuthHeader()\n                }\n            );\n\n            if (!response.ok) {\n                throw new Error('Failed to fetch question');\n            }\n\n            return response.json();\n        },\n        staleTime: 2 * 60 * 1000, // 2 minutes\n    });\n\n    const voteMutation = useMutation({\n        mutationFn: async ({ answerId, voteType }) => {\n            const response = await fetch(\n                `${process.env.REACT_APP_API_URL}/api/answers/${answerId}/vote`,\n                {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        ...getAuthHeader()\n                    },\n                    body: JSON.stringify({ voteType })\n                }\n            );\n\n            if (!response.ok) {\n                const error = await response.json();\n                throw new Error(error.error || 'Failed to vote');\n            }\n\n            return response.json();\n        },\n        onSuccess: () => {\n            queryClient.invalidateQueries(['question', id]);\n        },\n        onError: (error) => {\n            toast.error(error.message);\n        }\n    });\n\n    const acceptMutation = useMutation({\n        mutationFn: async (answerId) => {\n            const response = await fetch(\n                `${process.env.REACT_APP_API_URL}/api/answers/${answerId}/accept`,\n                {\n                    method: 'POST',\n                    headers: getAuthHeader()\n                }\n            );\n\n            if (!response.ok) {\n                const error = await response.json();\n                throw new Error(error.error || 'Failed to accept answer');\n            }\n\n            return response.json();\n        },\n        onSuccess: () => {\n            toast.success('Answer accepted successfully!');\n            queryClient.invalidateQueries(['question', id]);\n        },\n        onError: (error) => {\n            toast.error(error.message);\n        }\n    });\n\n    const handleVote = (answerId, voteType) => {\n        if (!user) {\n            toast.error('Please login to vote');\n            return;\n        }\n        voteMutation.mutate({ answerId, voteType });\n    };\n\n    const handleAccept = (answerId) => {\n        acceptMutation.mutate(answerId);\n    };\n\n    const formatTimeAgo = (dateString) => {\n        const date = new Date(dateString);\n        const now = new Date();\n        const diffInSeconds = Math.floor((now - date) / 1000);\n\n        if (diffInSeconds < 60) return 'just now';\n        if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)}m ago`;\n        if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)}h ago`;\n        if (diffInSeconds < 2592000) return `${Math.floor(diffInSeconds / 86400)}d ago`;\n        return date.toLocaleDateString();\n    };\n\n    if (isLoading) {\n        return (\n            <div className=\"flex justify-center py-12\">\n                <LoadingSpinner />\n            </div>\n        );\n    }\n\n    if (error) {\n        return (\n            <div className=\"text-center py-12\">\n                <p className=\"text-red-600\">Error loading question: {error.message}</p>\n                <Link to=\"/\" className=\"mt-4 text-blue-600 hover:text-blue-800\">\n                    ← Back to Questions\n                </Link>\n            </div>\n        );\n    }\n\n    if (!question) {\n        return (\n            <div className=\"text-center py-12\">\n                <p className=\"text-gray-600\">Question not found</p>\n                <Link to=\"/\" className=\"mt-4 text-blue-600 hover:text-blue-800\">\n                    ← Back to Questions\n                </Link>\n            </div>\n        );\n    }\n\n    const canEdit = user && (user.id === question.author_id || user.role === 'admin');\n\n    return (\n        <div className=\"max-w-4xl mx-auto\">\n            {/* Back Button */}\n            <div className=\"mb-6\">\n                <Link\n                    to=\"/\"\n                    className=\"inline-flex items-center text-blue-600 hover:text-blue-800\"\n                >\n                    <ArrowLeftIcon className=\"h-4 w-4 mr-2\" />\n                    Back to Questions\n                </Link>\n            </div>\n\n            {/* Question */}\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n                <div className=\"flex items-start justify-between mb-4\">\n                    <h1 className=\"text-2xl font-bold text-gray-900 flex-1 mr-4\">\n                        {question.title}\n                    </h1>\n                    {canEdit && (\n                        <div className=\"flex space-x-2\">\n                            <button className=\"text-gray-500 hover:text-blue-600\">\n                                <PencilIcon className=\"h-5 w-5\" />\n                            </button>\n                            <button className=\"text-gray-500 hover:text-red-600\">\n                                <TrashIcon className=\"h-5 w-5\" />\n                            </button>\n                        </div>\n                    )}\n                </div>\n\n                {/* Question Stats */}\n                <div className=\"flex items-center space-x-6 mb-6 text-sm text-gray-500\">\n                    <div className=\"flex items-center\">\n                        <EyeIcon className=\"h-4 w-4 mr-1\" />\n                        <span>{question.view_count || 0} views</span>\n                    </div>\n                    <div className=\"flex items-center\">\n                        <ClockIcon className=\"h-4 w-4 mr-1\" />\n                        <span>asked {formatTimeAgo(question.created_at)}</span>\n                    </div>\n                </div>\n\n                {/* Question Content */}\n                <div className=\"question-content mb-6\" dangerouslySetInnerHTML={{ __html: question.description }} />\n\n                {/* Tags */}\n                <div className=\"flex flex-wrap gap-2 mb-6\">\n                    {question.tags.map((tag) => (\n                        <span\n                            key={tag.id}\n                            className=\"tag\"\n                            style={{ \n                                backgroundColor: `${tag.color}20`,\n                                color: tag.color \n                            }}\n                        >\n                            {tag.name}\n                        </span>\n                    ))}\n                </div>\n\n                {/* Question Author */}\n                <div className=\"flex justify-end\">\n                    <div className=\"text-sm text-gray-500\">\n                        <span>asked by </span>\n                        <span className=\"font-medium text-gray-700\">{question.author}</span>\n                    </div>\n                </div>\n            </div>\n\n            {/* Answers Section */}\n            <div className=\"mb-8\">\n                <h2 className=\"text-xl font-bold text-gray-900 mb-6\">\n                    {question.answers?.length || 0} Answer{question.answers?.length !== 1 ? 's' : ''}\n                </h2>\n                \n                <AnswerList\n                    answers={question.answers}\n                    questionOwnerId={question.author_id}\n                    onVote={handleVote}\n                    onAccept={handleAccept}\n                    currentUser={user}\n                />\n            </div>\n\n            {/* Answer Form */}\n            {user ? (\n                <AnswerForm\n                    questionId={id}\n                    onSuccess={() => {\n                        // Scroll to top of answers section\n                        window.scrollTo({ top: 0, behavior: 'smooth' });\n                    }}\n                />\n            ) : (\n                <div className=\"bg-gray-50 rounded-lg p-6 text-center\">\n                    <p className=\"text-gray-600 mb-4\">\n                        Please <Link to=\"/login\" className=\"text-blue-600 hover:text-blue-800\">sign in</Link> to post an answer.\n                    </p>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default QuestionDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}