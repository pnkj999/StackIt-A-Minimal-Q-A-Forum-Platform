{"ast":null,"code":"import React from'react';import{useQuery}from'@tanstack/react-query';import{UserCircleIcon,QuestionMarkCircleIcon,ChatBubbleLeftIcon}from'@heroicons/react/24/outline';import{useAuth}from'../contexts/AuthContext';import LoadingSpinner from'../components/UI/LoadingSpinner';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user,getAuthHeader}=useAuth();const{data:profile,isLoading}=useQuery({queryKey:['profile',user===null||user===void 0?void 0:user.id],queryFn:async()=>{const response=await fetch(`${process.env.REACT_APP_API_URL}/api/auth/profile`,{headers:getAuthHeader()});if(!response.ok){throw new Error('Failed to fetch profile');}return response.json();},enabled:!!user});if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-12\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}if(!profile){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-12\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Profile not found\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:profile.user.avatarUrl?/*#__PURE__*/_jsx(\"img\",{className:\"h-20 w-20 rounded-full border-4 border-white\",src:profile.user.avatarUrl,alt:profile.user.username}):/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-20 w-20 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-white\",children:profile.user.username}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-100\",children:profile.user.email}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-100 text-sm\",children:[\"Member since \",new Date(profile.user.createdAt).toLocaleDateString()]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mx-auto mb-3\",children:/*#__PURE__*/_jsx(QuestionMarkCircleIcon,{className:\"h-6 w-6 text-blue-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:profile.user.questionCount||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Questions Asked\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-3\",children:/*#__PURE__*/_jsx(ChatBubbleLeftIcon,{className:\"h-6 w-6 text-green-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:profile.user.answerCount||0}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Answers Given\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full mx-auto mb-3\",children:/*#__PURE__*/_jsx(UserCircleIcon,{className:\"h-6 w-6 text-purple-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-gray-900\",children:profile.user.role==='admin'?'Admin':'Member'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:\"Role\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 bg-gray-50 border-t\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\",children:\"Edit Profile\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500\",children:\"View Activity\"})]})})]})});};export default Profile;","map":{"version":3,"names":["React","useQuery","UserCircleIcon","QuestionMarkCircleIcon","ChatBubbleLeftIcon","useAuth","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Profile","user","getAuthHeader","data","profile","isLoading","queryKey","id","queryFn","response","fetch","process","env","REACT_APP_API_URL","headers","ok","Error","json","enabled","className","children","avatarUrl","src","alt","username","email","Date","createdAt","toLocaleDateString","questionCount","answerCount","role"],"sources":["/Users/sam/Downloads/stackit/frontend/src/pages/Profile.js"],"sourcesContent":["import React from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { UserCircleIcon, QuestionMarkCircleIcon, ChatBubbleLeftIcon } from '@heroicons/react/24/outline';\nimport { useAuth } from '../contexts/AuthContext';\nimport LoadingSpinner from '../components/UI/LoadingSpinner';\n\nconst Profile = () => {\n    const { user, getAuthHeader } = useAuth();\n\n    const { data: profile, isLoading } = useQuery({\n        queryKey: ['profile', user?.id],\n        queryFn: async () => {\n            const response = await fetch(\n                `${process.env.REACT_APP_API_URL}/api/auth/profile`,\n                {\n                    headers: getAuthHeader()\n                }\n            );\n\n            if (!response.ok) {\n                throw new Error('Failed to fetch profile');\n            }\n\n            return response.json();\n        },\n        enabled: !!user,\n    });\n\n    if (isLoading) {\n        return (\n            <div className=\"flex justify-center py-12\">\n                <LoadingSpinner />\n            </div>\n        );\n    }\n\n    if (!profile) {\n        return (\n            <div className=\"text-center py-12\">\n                <p className=\"text-gray-600\">Profile not found</p>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"max-w-4xl mx-auto\">\n            <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n                {/* Profile Header */}\n                <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-8\">\n                    <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0\">\n                            {profile.user.avatarUrl ? (\n                                <img\n                                    className=\"h-20 w-20 rounded-full border-4 border-white\"\n                                    src={profile.user.avatarUrl}\n                                    alt={profile.user.username}\n                                />\n                            ) : (\n                                <UserCircleIcon className=\"h-20 w-20 text-white\" />\n                            )}\n                        </div>\n                        <div className=\"ml-6\">\n                            <h1 className=\"text-2xl font-bold text-white\">\n                                {profile.user.username}\n                            </h1>\n                            <p className=\"text-blue-100\">{profile.user.email}</p>\n                            <p className=\"text-blue-100 text-sm\">\n                                Member since {new Date(profile.user.createdAt).toLocaleDateString()}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Profile Stats */}\n                <div className=\"px-6 py-6\">\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n                        <div className=\"text-center\">\n                            <div className=\"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-full mx-auto mb-3\">\n                                <QuestionMarkCircleIcon className=\"h-6 w-6 text-blue-600\" />\n                            </div>\n                            <div className=\"text-2xl font-bold text-gray-900\">\n                                {profile.user.questionCount || 0}\n                            </div>\n                            <div className=\"text-sm text-gray-500\">Questions Asked</div>\n                        </div>\n                        \n                        <div className=\"text-center\">\n                            <div className=\"flex items-center justify-center w-12 h-12 bg-green-100 rounded-full mx-auto mb-3\">\n                                <ChatBubbleLeftIcon className=\"h-6 w-6 text-green-600\" />\n                            </div>\n                            <div className=\"text-2xl font-bold text-gray-900\">\n                                {profile.user.answerCount || 0}\n                            </div>\n                            <div className=\"text-sm text-gray-500\">Answers Given</div>\n                        </div>\n                        \n                        <div className=\"text-center\">\n                            <div className=\"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-full mx-auto mb-3\">\n                                <UserCircleIcon className=\"h-6 w-6 text-purple-600\" />\n                            </div>\n                            <div className=\"text-2xl font-bold text-gray-900\">\n                                {profile.user.role === 'admin' ? 'Admin' : 'Member'}\n                            </div>\n                            <div className=\"text-sm text-gray-500\">Role</div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Profile Actions */}\n                <div className=\"px-6 py-4 bg-gray-50 border-t\">\n                    <div className=\"flex space-x-4\">\n                        <button className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\">\n                            Edit Profile\n                        </button>\n                        <button className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500\">\n                            View Activity\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}